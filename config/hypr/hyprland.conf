# Variables
$mod = SUPER

# General
general {
    gaps_in = 8
    gaps_out = 8
    layout = dwindle
    border_size = 0
}

# Environment variables
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland
env = XDG_SESSION_DESKTOP,Hyprland
env = GBM_BACKEND,nvidia-drm
env = __GLX_VENDOR_LIBRARY_NAME,nvidia
env = LIBVA_DRIVER_NAME,nvidia
env = NVD_BACKEND,direct
env = ELECTRON_OZONE_PLATFORM_HINT,auto
env = SDL_VIDEODRIVER,wayland
env = GDK_SCALE,1

# Monitor configuration
monitor = DP-4, 2560x1440@180, -2560x0, 1, bitdepth, 10
monitor = DP-5, 3840x2160@240,     0x0, 1, bitdepth, 10

# Cursor
cursor {
    no_hardware_cursors = true
}

# Exec on startup
exec-once = hyprctl setcursor Bibata-Modern-Classic 16
exec-once = wl-paste --type text --watch cliphist store
exec-once = wl-paste --type image --watch cliphist store
exec-once = nm-applet
exec-once = waybar
exec-once = hyprpaper
exec-once = gsettings set org.gnome.desktop.interface gtk-theme 'Orchis-Dark'
exec-once = gsettings set org.gnome.desktop.interface color-scheme 'prefer-dark'

# Misc
misc {
    disable_hyprland_logo = true
    disable_splash_rendering = true
    vrr = 1
    key_press_enables_dpms = true
}

# Layer rules
layerrule = blur, waybar
layerrule = ignorezero, waybar
layerrule = blur, wofi
layerrule = ignorezero, wofi
layerrule = blur, logout_dialog
layerrule = ignorezero, logout_dialog
layerrule = noanim, ^(selection)$

# Animations
animations {
    enabled = true

    bezier = linear, 0, 0, 1, 1
    bezier = md3_standard, 0.2, 0, 0, 1
    bezier = md3_decel, 0.05, 0.7, 0.1, 1
    bezier = md3_accel, 0.3, 0, 0.8, 0.15
    bezier = overshot, 0.05, 0.9, 0.1, 1.1
    bezier = crazyshot, 0.1, 1.5, 0.76, 0.92
    bezier = hyprnostretch, 0.05, 0.9, 0.1, 1.0
    bezier = fluent_decel, 0.1, 1, 0, 1
    bezier = easeInOutCirc, 0.85, 0, 0.15, 1
    bezier = easeOutCirc, 0, 0.55, 0.45, 1
    bezier = easeOutExpo, 0.16, 1, 0.3, 1

    animation = windows, 1, 3, md3_decel, popin 60%
    animation = border, 1, 10, default
    animation = fade, 1, 2.5, md3_decel
    animation = workspaces, 1, 3.5, easeOutExpo, slide
    animation = specialWorkspace, 1, 3, md3_decel, slidevert
}

# Decorations
decoration {
    rounding = 8
    active_opacity = 1.0
    inactive_opacity = 0.9
    fullscreen_opacity = 1.0

    blur {
        enabled = true
        size = 16
        passes = 4
        new_optimizations = true
        ignore_opacity = true
        xray = false
    }

    shadow {
        enabled = true
        range = 30
        render_power = 3
        color = 0x66000000
    }
}

# Input
input {
    kb_layout = us
    kb_variant =
    kb_options = altwin:swap_lalt_lwin
    kb_model =
    numlock_by_default = true
    follow_mouse = 1
    mouse_refocus = false
    touchpad {
        natural_scroll = false
        scroll_factor = 1.0
    }
    sensitivity = -0.2
    accel_profile = flat
}

# Layout
dwindle {
    pseudotile = true
    preserve_split = true
}

binds {
    workspace_back_and_forth = true
    allow_workspace_cycles = true
    pass_mouse_when_bound = false
}

# Workspaces
workspace = 1, monitor:DP-4
workspace = 2, monitor:DP-5
workspace = 3, monitor:DP-4
workspace = 4, monitor:DP-5
workspace = 5, monitor:DP-4
workspace = 6, monitor:DP-5
workspace = 7, monitor:DP-4
workspace = 8, monitor:DP-5
workspace = 9, monitor:DP-4
workspace = 10, monitor:DP-5

# Window rules
windowrule = tag +chromium-based-browser, class:([cC]hrom(e|ium)|[bB]rave-browser|Microsoft-edge|Vivaldi-stable)
windowrule = tag +firefox-based-browser, class:([fF]irefox|zen|librewolf)
windowrule = tile, tag:chromium-based-browser
windowrule = float, title:^(pavucontrol)$
windowrule = float, title:^(blueman-manager)$
windowrule = float, title:^(nm-connection-editor)$
windowrule = float, title:^(Calculator)$
windowrule = float, title:^(Picture-in-Picture)$
windowrule = pin, title:^(Picture-in-Picture)$
windowrule = move 69.5% 4%, title:^(Picture-in-Picture)$
windowrule = idleinhibit fullscreen,class:([window])
windowrule = float, tag:floating-window
windowrule = center, tag:floating-window
windowrule = size 800 600, tag:floating-window
windowrule = tag +floating-window, class:(blueberry.py|Impala|com.github.tsowell.wiremix|org.gnome.NautilusPreviewer|com.gabm.satty|Omarchy|About|TUI.float)
windowrule = tag +floating-window, class:(xdg-desktop-portal-gtk|sublime_text|DesktopEditors|org.gnome.Nautilus), title:^(Open.*Files?|Open [F|f]older.*|Save.*Files?|Save.*As|Save|All Files)
windowrule = fullscreen, class:Screensaver
windowrule = opacity 1 1, class:^(zoom|vlc|mpv|org.kde.kdenlive|com.obsproject.Studio|com.github.PintaProject.Pinta|imv|org.gnome.NautilusPreviewer)$
windowrule = tag +terminal, class:(Alacritty|kitty|com.mitchellh.ghostty)

# Key bindings
bind = $mod, RETURN, exec, ghostty
bind = $mod, B, exec, firefox
bind = $mod, E, exec, nautilus
bind = $mod, Q, killactive
bind = $mod SHIFT, Q, exec, hyprctl activewindow | grep pid | tr -d 'pid:' | xargs kill
bind = $mod, F, fullscreen, 0
bind = $mod, M, fullscreen, 1
bind = $mod, T, togglefloating
bind = $mod SHIFT, T, workspaceopt, allfloat
bind = $mod, S, togglesplit
bind = $mod SHIFT, D, swapsplit
bind = $mod, left, movefocus, l
bind = $mod, right, movefocus, r
bind = $mod, up, movefocus, u
bind = $mod, down, movefocus, d
bind = $mod, H, movefocus, l
bind = $mod, L, movefocus, r
bind = $mod, K, movefocus, u
bind = $mod, J, movefocus, d
bind = $mod SHIFT, right, resizeactive, 100 0
bind = $mod SHIFT, left, resizeactive, -100 0
bind = $mod SHIFT, down, resizeactive, 0 100
bind = $mod SHIFT, up, resizeactive, 0 -100
bind = $mod, G, togglegroup
bind = $mod ALT, left, swapwindow, l
bind = $mod ALT, right, swapwindow, r
bind = $mod ALT, up, swapwindow, u
bind = $mod ALT, down, swapwindow, d
bind = $mod, P, exec, wofi --show drun
bind = $mod CTRL, R, exec, hyprctl reload
bind = $mod, PRINT, exec, hyprshot
bind = $mod CTRL, Q, exec, wlogout -b 6 --protocol layer-shell
bind = $mod, V, exec, cliphist list | wofi --dmenu | cliphist decode | wl-copy
bind = $mod CTRL, L, exec, hyprlock
bind = $mod, 1, workspace, 1
bind = $mod, 2, workspace, 2
bind = $mod, 3, workspace, 3
bind = $mod, 4, workspace, 4
bind = $mod, 5, workspace, 5
bind = $mod, 6, workspace, 6
bind = $mod, 7, workspace, 7
bind = $mod, 8, workspace, 8
bind = $mod, 9, workspace, 9
bind = $mod, 0, workspace, 10
bind = $mod SHIFT, 1, movetoworkspace, 1
bind = $mod SHIFT, 2, movetoworkspace, 2
bind = $mod SHIFT, 3, movetoworkspace, 3
bind = $mod SHIFT, 4, movetoworkspace, 4
bind = $mod SHIFT, 5, movetoworkspace, 5
bind = $mod SHIFT, 6, movetoworkspace, 6
bind = $mod SHIFT, 7, movetoworkspace, 7
bind = $mod SHIFT, 8, movetoworkspace, 8
bind = $mod SHIFT, 9, movetoworkspace, 9
bind = $mod SHIFT, 0, movetoworkspace, 10
bind = $mod, TAB, workspace, m+1
bind = $mod SHIFT, TAB, workspace, m-1
bind = , XF86MonBrightnessUp, exec, brightnessctl -q s +10%
bind = , XF86MonBrightnessDown, exec, brightnessctl -q s 10%-
bind = , XF86AudioRaiseVolume, exec, pactl set-sink-mute @DEFAULT_SINK@ 0 && pactl set-sink-volume @DEFAULT_SINK@ +5%
bind = , XF86AudioLowerVolume, exec, pactl set-sink-mute @DEFAULT_SINK@ 0 && pactl set-sink-volume @DEFAULT_SINK@ -5%
bind = , XF86AudioMute, exec, pactl set-sink-mute @DEFAULT_SINK@ toggle
bind = , XF86AudioPlay, exec, playerctl play-pause
bind = , XF86AudioPause, exec, playerctl pause
bind = , XF86AudioNext, exec, playerctl next
bind = , XF86AudioPrev, exec, playerctl previous
bind = , XF86AudioMicMute, exec, pactl set-source-mute @DEFAULT_SOURCE@ toggle
bind = , XF86Lock, exec, hyprlock

# Mouse bindings
bindm = $mod, mouse:272, movewindow
bindm = $mod, mouse:273, resizewindow

# Special key bindings
binde = ALT, Tab, cyclenext
binde = ALT, Tab, bringactivetotop

# Resize submap
submap = resize
binde = , right, resizeactive, 10 0
binde = , left, resizeactive, -10 0
binde = , up, resizeactive, 0 -10
binde = , down, resizeactive, 0 10
bind = , escape, submap, reset
submap = reset
